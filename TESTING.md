# –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

## –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

1. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—Å–µ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å—ã –∑–∞–ø—É—â–µ–Ω—ã:
```bash
docker-compose up -d
```

2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –¥–ª—è —Ç–µ—Å—Ç–æ–≤:
```bash
pip install -r tests/requirements.txt
```

### –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Ç–µ—Å—Ç–æ–≤

**Windows:**
```powershell
cd tests
.\run_all_tests.ps1
```

**Linux/Mac:**
```bash
cd tests
chmod +x run_all_tests.sh
./run_all_tests.sh
```

## –¢–∏–ø—ã —Ç–µ—Å—Ç–æ–≤

### 1. Security Tests (security_tests.py)
**–ß—Ç–æ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç:**
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è JWT —Ç–æ–∫–µ–Ω–æ–≤ (–≤–∞–ª–∏–¥–Ω—ã–µ, –Ω–µ–≤–∞–ª–∏–¥–Ω—ã–µ, –∏—Å—Ç—ë–∫—à–∏–µ)
- ‚úÖ Rate Limiting (–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–æ–≤)
- ‚úÖ WAF –∑–∞—â–∏—Ç–∞ (XSS, SQL Injection)
- ‚úÖ –ö–æ–Ω—Ç—Ä–æ–ª—å –¥–æ—Å—Ç—É–ø–∞ –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ä–æ–ª–µ–π (RBAC)
- ‚úÖ API –∫–ª—é—á–∏ –∏ HMAC –ø–æ–¥–ø–∏—Å–∏
- ‚úÖ ZTNA –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ —Ç–æ–∫–µ–Ω—ã
- ‚úÖ –ó–∞—â–∏—Ç–∞ –æ—Ç brute force
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø—Ä–æ–π–¥–µ–Ω–Ω—ã—Ö/–ø—Ä–æ–≤–∞–ª–µ–Ω–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤

### 2. Penetration Tests (penetration_tests.py)
**–ß—Ç–æ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç:**
- üéØ SQL Injection –∞—Ç–∞–∫–∏
- üéØ XSS (Cross-Site Scripting) –∞—Ç–∞–∫–∏
- üéØ Path Traversal
- üéØ –ú–∞–Ω–∏–ø—É–ª—è—Ü–∏—è JWT —Ç–æ–∫–µ–Ω–∞–º–∏
- üéØ IDOR (Insecure Direct Object Reference)
- üéØ –ó–∞—â–∏—Ç–∞ –æ—Ç Brute Force
- üéØ CSRF —É—è–∑–≤–∏–º–æ—Å—Ç–∏
- üéØ Information Disclosure
- üéØ DoS (Denial of Service) –∑–∞—â–∏—Ç–∞

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –°–ø–∏—Å–æ–∫ –Ω–∞–π–¥–µ–Ω–Ω—ã—Ö —É—è–∑–≤–∏–º–æ—Å—Ç–µ–π —Å —É—Ä–æ–≤–Ω–µ–º –∫—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç–∏:
- CRITICAL - —Ç—Ä–µ–±—É–µ—Ç –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ–≥–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è
- HIGH - –≤—ã—Å–æ–∫–∞—è —É—è–∑–≤–∏–º–æ—Å—Ç—å
- MEDIUM - —Å—Ä–µ–¥–Ω—è—è —É—è–∑–≤–∏–º–æ—Å—Ç—å

### 3. Integration Tests (integration_tests.py)
**–ß—Ç–æ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç:**
- üîó Health check –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
- üîó –í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ Auth Service ‚Üí Data Service
- üîó –ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ API Gateway
- üîó –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Logging Service
- üîó –†–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ JWT –º–µ–∂–¥—É —Å–µ—Ä–≤–∏—Å–∞–º–∏
- üîó –ü–æ—Ç–æ–∫–∏ –∫–æ–Ω—Ç—Ä–æ–ª—è –¥–æ—Å—Ç—É–ø–∞
- üîó –ö–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã
- üîó –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ü—Ä–æ—Ü–µ–Ω—Ç —É—Å–ø–µ—à–Ω—ã—Ö –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤

### 4. Load Tests (load_test.py)
**–ß—Ç–æ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç:**
- ‚ö° Rate Limiting –ø–æ–¥ –Ω–∞–≥—Ä—É–∑–∫–æ–π
- ‚ö° –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å Auth Service
- ‚ö° –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å Data Service
- ‚ö° –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å Gateway –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏
- ‚ö° –£—Å—Ç–æ–π—á–∏–≤–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞ (sustained load)

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ú–µ—Ç—Ä–∏–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ (RPS, –≤—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞, –ø–µ—Ä—Ü–µ–Ω—Ç–∏–ª–∏)

### 5. Vulnerability Scanner (vulnerability_scanner.py)
**–ß—Ç–æ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç:**
- üîç Security Headers (X-Frame-Options, CSP, HSTS –∏ –¥—Ä.)
- üîç –†–∞—Å–∫—Ä—ã—Ç–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –≤ –æ—à–∏–±–∫–∞—Ö
- üîç –í–µ—Ä—Å–∏–∏ —Å–µ—Ä–≤–µ—Ä–æ–≤ –≤ –∑–∞–≥–æ–ª–æ–≤–∫–∞—Ö
- üîç –°–ª–∞–±–æ—Å—Ç—å –º–µ—Ö–∞–Ω–∏–∑–º–æ–≤ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
- üîç CORS –ø–æ–ª–∏—Ç–∏–∫–∏
- üîç –£—Ç–µ—á–∫–∞ —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- üîç –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å JWT (–∞–ª–≥–æ—Ä–∏—Ç–º—ã, exp –∏ –¥—Ä.)

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** JSON –æ—Ç—á—ë—Ç (`vulnerability_report.json`) —Å –Ω–∞–π–¥–µ–Ω–Ω—ã–º–∏ –ø—Ä–æ–±–ª–µ–º–∞–º–∏

## –ò–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

### Security Tests
- **–í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ–π–¥–µ–Ω—ã** ‚úÖ - –°–∏—Å—Ç–µ–º–∞ –∑–∞—â–∏—â–µ–Ω–∞
- **–ù–µ–∫–æ—Ç–æ—Ä—ã–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ–≤–∞–ª–µ–Ω—ã** ‚ö†Ô∏è - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–µ—Ç–∞–ª–∏, –≤–æ–∑–º–æ–∂–Ω–æ —Ç—Ä–µ–±—É—é—Ç—Å—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### Penetration Tests
- **0 —É—è–∑–≤–∏–º–æ—Å—Ç–µ–π** ‚úÖ - –û—Ç–ª–∏—á–Ω–æ
- **CRITICAL —É—è–∑–≤–∏–º–æ—Å—Ç–∏** üö® - –¢—Ä–µ–±—É–µ—Ç—Å—è –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
- **HIGH —É—è–∑–≤–∏–º–æ—Å—Ç–∏** ‚ö†Ô∏è - –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∏—Å–ø—Ä–∞–≤–∏—Ç—å –≤ –±–ª–∏–∂–∞–π—à–µ–µ –≤—Ä–µ–º—è
- **MEDIUM —É—è–∑–≤–∏–º–æ—Å—Ç–∏** ‚ÑπÔ∏è - –ú–æ–∂–Ω–æ –∏—Å–ø—Ä–∞–≤–∏—Ç—å –ø–æ–∑–∂–µ, –Ω–æ —Å—Ç–æ–∏—Ç —Ä–∞—Å—Å–º–æ—Ç—Ä–µ—Ç—å

### Integration Tests
- **> 90% —É—Å–ø–µ—à–Ω—ã—Ö** ‚úÖ - –°–∏—Å—Ç–µ–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å—Ç–∞–±–∏–ª—å–Ω–æ
- **70-90% —É—Å–ø–µ—à–Ω—ã—Ö** ‚ö†Ô∏è - –ï—Å—Ç—å –ø—Ä–æ–±–ª–µ–º—ã –≤–æ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–∏
- **< 70% —É—Å–ø–µ—à–Ω—ã—Ö** üö® - –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

### Load Tests
- **RPS > 50** ‚úÖ - –•–æ—Ä–æ—à–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
- **Response time < 500ms** ‚úÖ - –ë—ã—Å—Ç—Ä—ã–µ –æ—Ç–≤–µ—Ç—ã
- **Success rate > 95%** ‚úÖ - –°—Ç–∞–±–∏–ª—å–Ω–∞—è —Ä–∞–±–æ—Ç–∞

### Vulnerability Scanner
- –û—Ç—á—ë—Ç —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ `vulnerability_report.json`
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞–∑–¥–µ–ª `summary` –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –æ–±–∑–æ—Ä–∞
- –ò–∑—É—á–∏—Ç–µ –¥–µ—Ç–∞–ª–∏ –∫–∞–∂–¥–æ–π —É—è–∑–≤–∏–º–æ—Å—Ç–∏ –≤ `vulnerabilities`

## –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–æ–ª—å–∫–æ JWT
python -c "from tests.security_tests import SecurityTests; t = SecurityTests(); t.test_jwt_validation()"
```

### –ë—ã—Å—Ç—Ä–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —É—è–∑–≤–∏–º–æ—Å—Ç–µ–π
```bash
cd tests
python vulnerability_scanner.py
cat vulnerability_report.json
```

### –ù–∞–≥—Ä—É–∑–æ—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
```bash
cd tests
python load_test.py
```

### –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π
```bash
cd tests
python integration_tests.py
```

## –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

1. **–†–µ–≥—É–ª—è—Ä–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**: –ó–∞–ø—É—Å–∫–∞–π—Ç–µ —Ç–µ—Å—Ç—ã –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ–≥–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è
2. **CI/CD –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è**: –î–æ–±–∞–≤—å—Ç–µ —Ç–µ—Å—Ç—ã –≤ pipeline:
   ```yaml
   # –ü—Ä–∏–º–µ—Ä –¥–ª—è GitHub Actions
   - name: Run Security Tests
     run: |
       cd tests
       python security_tests.py
       python penetration_tests.py
   ```
3. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥**: –û—Ç—Å–ª–µ–∂–∏–≤–∞–π—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–æ–≤ –≤–æ –≤—Ä–µ–º–µ–Ω–∏
4. **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ**: –ü—Ä–∏–æ—Ä–∏—Ç–∏–∑–∏—Ä—É–π—Ç–µ CRITICAL –∏ HIGH —É—è–∑–≤–∏–º–æ—Å—Ç–∏

## –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

### –¢–µ—Å—Ç—ã –Ω–µ –º–æ–≥—É—Ç –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ —Å–µ—Ä–≤–∏—Å–∞–º
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ `docker-compose up` –≤—ã–ø–æ–ª–Ω–µ–Ω —É—Å–ø–µ—à–Ω–æ
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å `http://localhost:8000/health`

### –û—à–∏–±–∫–∏ –∏–º–ø–æ—Ä—Ç–∞
```bash
pip install -r tests/requirements.txt
```

### Rate Limiting –±–ª–æ–∫–∏—Ä—É–µ—Ç —Ç–µ—Å—Ç—ã
- –£–≤–µ–ª–∏—á—å—Ç–µ –∏–Ω—Ç–µ—Ä–≤–∞–ª—ã –º–µ–∂–¥—É –∑–∞–ø—Ä–æ—Å–∞–º–∏ –≤ —Ç–µ—Å—Ç–∞—Ö
- –ò–ª–∏ –≤—Ä–µ–º–µ–Ω–Ω–æ —É–≤–µ–ª–∏—á—å—Ç–µ –ª–∏–º–∏—Ç—ã –≤ API Gateway

## –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

–ü–æ–¥—Ä–æ–±–Ω–µ–µ –æ –∫–∞–∂–¥–æ–º —Ç–µ—Å—Ç–µ —Å–º. –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –≤ –∏—Å—Ö–æ–¥–Ω—ã—Ö —Ñ–∞–π–ª–∞—Ö –∏–ª–∏ [tests/README.md](tests/README.md)

